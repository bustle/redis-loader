{"/Users/tristan/code/redis-loader/src/redis/connector.js": {"path":"/Users/tristan/code/redis-loader/src/redis/connector.js","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":14},"end":{"line":3,"column":32}},"2":{"start":{"line":4,"column":14},"end":{"line":4,"column":28}},"3":{"start":{"line":7,"column":4},"end":{"line":18,"column":5}},"4":{"start":{"line":8,"column":8},"end":{"line":8,"column":75}},"5":{"start":{"line":11,"column":31},"end":{"line":11,"column":52}},"6":{"start":{"line":12,"column":8},"end":{"line":17,"column":11}},"7":{"start":{"line":19,"column":4},"end":{"line":21,"column":7}},"8":{"start":{"line":20,"column":8},"end":{"line":20,"column":25}},"9":{"start":{"line":22,"column":4},"end":{"line":22,"column":17}},"10":{"start":{"line":24,"column":0},"end":{"line":24,"column":31}}},"fnMap":{"0":{"name":"connectRedis","decl":{"start":{"line":5,"column":9},"end":{"line":5,"column":21}},"loc":{"start":{"line":5,"column":100},"end":{"line":23,"column":1}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":19,"column":22},"end":{"line":19,"column":23}},"loc":{"start":{"line":19,"column":31},"end":{"line":21,"column":5}},"line":19}},"branchMap":{"0":{"loc":{"start":{"line":5,"column":22},"end":{"line":5,"column":98}},"type":"default-arg","locations":[{"start":{"line":5,"column":96},"end":{"line":5,"column":98}}],"line":5},"1":{"loc":{"start":{"line":5,"column":45},"end":{"line":5,"column":59}},"type":"default-arg","locations":[{"start":{"line":5,"column":57},"end":{"line":5,"column":59}}],"line":5},"2":{"loc":{"start":{"line":5,"column":61},"end":{"line":5,"column":91}},"type":"default-arg","locations":[{"start":{"line":5,"column":86},"end":{"line":5,"column":91}}],"line":5},"3":{"loc":{"start":{"line":7,"column":4},"end":{"line":18,"column":5}},"type":"if","locations":[{"start":{"line":7,"column":4},"end":{"line":18,"column":5}},{"start":{"line":7,"column":4},"end":{"line":18,"column":5}}],"line":7}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":1,"8":0,"9":1,"10":1},"f":{"0":1,"1":0},"b":{"0":[0],"1":[1],"2":[1],"3":[1,0]},"inputSourceMap":{"version":3,"file":"connector.js","sourceRoot":"","sources":["connector.js"],"names":[],"mappings":";;AAAA,iCAAgC;AAChC,6BAAuC;AAEvC,sBAAqC,EAAE,QAAQ,EAAE,SAAS,EAAE,SAAS,GAAG,EAAE,EAAE,sBAAsB,GAAG,KAAK,EAAE,GAAG,EAAE;IAC/G,IAAI,KAAK,CAAA;IACT,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;QACf,KAAK,GAAG,IAAI,KAAK,CAAC,QAAQ,EAAE,EAAE,sBAAsB,EAAE,SAAS,EAAE,CAAC,CAAA;IACpE,CAAC;IAAC,IAAI,CAAC,CAAC;QACN,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,WAAQ,CAAC,QAAQ,CAAC,CAAA;QACzC,KAAK,GAAG,IAAI,KAAK,CAAC,QAAQ,EAAE;YAC1B,IAAI;YACJ,SAAS;YACT,SAAS;YACT,sBAAsB;SACvB,CAAC,CAAA;IACJ,CAAC;IAED,KAAK,CAAC,EAAE,CAAC,OAAO,EAAE,CAAC,GAAG,EAAE,EAAE;QACxB,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAA;IAClB,CAAC,CAAC,CAAA;IAEF,MAAM,CAAC,KAAK,CAAA;AACd,CAAC;AAnBD,+BAmBC","sourcesContent":["import * as Redis from \"ioredis\"\nimport { parse as urlParse } from \"url\"\n\nexport default function connectRedis({ redisURL, sentinels, keyPrefix = \"\", showFriendlyErrorStack = false } = {}) {\n  let redis\n  if (!sentinels) {\n    redis = new Redis(redisURL, { showFriendlyErrorStack, keyPrefix })\n  } else {\n    const { host: name } = urlParse(redisURL)\n    redis = new Redis(redisURL, {\n      name,\n      sentinels,\n      keyPrefix,\n      showFriendlyErrorStack\n    })\n  }\n\n  redis.on(\"error\", (err) => {\n    console.log(err)\n  })\n\n  return redis\n}\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"56a1b016fb47d32223f4e3c03ec76ee40b19d7ee"}
}
